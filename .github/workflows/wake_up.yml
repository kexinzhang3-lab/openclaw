name: Mobile-One-Click-Start

on:
  workflow_dispatch: # æ‰‹æœº GitHub App æ‰‹åŠ¨è§¦å‘

jobs:
  wake-up:
    runs-on: ubuntu-latest
    steps:
      - name: Start Codespace and OpenClaw
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "ğŸ¦ å¯åŠ¨ Codespace..."

          # å¯åŠ¨ Codespace
          gh codespace start -R kexinzhang3-lab/openclaw || echo "Codespace å¯èƒ½å·²åœ¨è¿è¡Œ"

          # ç­‰å¾… Codespace å®Œå…¨å¯åŠ¨
          echo "â³ ç­‰å¾… Codespace å¯åŠ¨..."
          sleep 30

          # åœ¨ Codespace é‡Œå¯åŠ¨ OpenClaw Gateway
          echo "ğŸš€ å¯åŠ¨ OpenClaw Gateway..."
          gh codespace ssh -R kexinzhang3-lab/openclaw --command "openclaw gateway start || echo 'Gateway å¯èƒ½å·²åœ¨è¿è¡Œ'"

          echo "âœ… å®Œæˆï¼ç°åœ¨å¯ä»¥åœ¨ Discord æ‰¾æˆ‘äº†"
