name: Keep Codespace Alive

on:
  schedule:
    # æ¯4å°æ—¶è¿è¡Œä¸€æ¬¡ï¼ˆUTC æ—¶é—´ 0, 4, 8, 12, 16, 20 ç‚¹ï¼‰
    - cron: "0 */4 * * *"
  workflow_dispatch: # æ‰‹åŠ¨è§¦å‘ï¼ˆæ‰‹æœº GitHub App ä¹Ÿèƒ½ç”¨ï¼‰

jobs:
  keep-alive:
    runs-on: ubuntu-latest
    steps:
      - name: Start Codespace
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        run: |
          echo "ğŸ¦ æ£€æŸ¥å¹¶å¯åŠ¨ Codespace..."
          gh codespace list -R kexinzhang3-lab/openclaw
          gh codespace start -R kexinzhang3-lab/openclaw || echo "Codespace å¯èƒ½å·²åœ¨è¿è¡Œ"
          echo "âœ… å®Œæˆ"
